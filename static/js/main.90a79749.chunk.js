(this["webpackJsonpreact-node-app"]=this["webpackJsonpreact-node-app"]||[]).push([[0],{194:function(e,t,n){},201:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},355:function(e,t,n){},356:function(e,t,n){},357:function(e,t,n){},358:function(e,t,n){},359:function(e,t,n){},360:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(42),s=n.n(c),i=(n(194),n(18)),l=n(17),u=n(31),o=n(45),j=(n(201),n(2)),d=function(e){var t=e.users,n=Object(l.i)().url,r=Object(l.f)(),a=Object.keys(t[0]).map((function(e){var t=(e=(e=e.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi," ")).replace(e[0],e[0].toLocaleUpperCase())).indexOf(" ");return t&&(e=e.replace(e[t+1],e[t+1].toLocaleUpperCase())),Object(j.jsx)("th",{children:e})}));return Object(j.jsx)("div",{className:"table-wrapper",children:Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsx)("tr",{children:a})}),Object(j.jsx)("tbody",{children:t.map((function(e,t){return Object(j.jsx)("tr",{onClick:function(){return function(e){var t=e.id,a=e.first_name,c=e.last_name;r.push("".concat(n,"/").concat(t),{first_name:a,last_name:c})}(e)},children:Object.values(e).map((function(e,t){return Object(j.jsx)("td",{children:e},t)}))},t)}))})]})})},b=n(20),h=n.n(b),p=n(39),O=n(168),f=n(169),v=n(70),x=n.n(v),m=function(){function e(){Object(O.a)(this,e)}return Object(f.a)(e,[{key:"getUsers",value:function(){var t=Object(p.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSource("users",n);case 2:return r=t.sent,t.abrupt("return",r.data.users);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getStatistic",value:function(){var t=Object(p.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSource("statistic/".concat(n));case 2:return r=t.sent,t.abrupt("return",r.data.user_statistic);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}],[{key:"getSource",value:function(){var e=Object(p.a)(h.a.mark((function e(t,n){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(this.base_url).concat(t),e.next=3,x.a.get(r,{params:n});case 3:if("OK"===(a=e.sent).statusText){e.next=6;break}throw new Error("Could not fetch ".concat(t,", received ").concat(a.status));case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();m.base_url="http://localhost:8000/api/";var g=m,y="START_LOADING",w="FINISH_LOADING",N="LOADING_COMPLETE",k="SET_CURRENT_PAGE",P="SET_BUTTONS_PER_PAGE",S="SET_INDEX_FIRST_PAGE";function C(e){return{type:k,payload:e}}function E(){return{type:w}}function A(e){return{type:N,payload:e}}n(224);var _=function(e){for(var t=Object(o.b)(),n=Object(o.c)((function(e){return e.paginationOptions})),r=n.usersPerPage,a=n.currentPage,c=n.buttonsPerPage,s=n.indexFirstPage,i=e.dataLength,l=Math.ceil(i/r),u=[],d=1;d<=l;d++)u.push(d);var b=u.slice(s,c),h=function(e,n){t(function(e){return{type:S,payload:e}}(e)),t(function(e){return{type:P,payload:e}}(e)),t(C(c+n))};return Object(j.jsx)("div",{className:"pagination",children:Object(j.jsxs)("ul",{children:[s<=0?null:Object(j.jsx)("div",{className:"arrow left",onClick:function(){return h(-5,-5)}}),b.map((function(e){return Object(j.jsx)("li",{className:e===a?"active":"",onClick:function(){console.log(undefined),function(e){t(C(e))}(e)},children:e})})),c>=u.length?null:Object(j.jsx)("div",{className:"arrow right",onClick:function(){return h(5,1)}})]})})},L=n(368),I=n(366),D=n(184),U=n(365),F=n(180),T=n(181),$=n(95),R=(n(225),function(e){return Object(j.jsxs)("div",{className:"charts",children:[Object(j.jsx)("h2",{children:"Clicks"}),Object(j.jsx)(L.a,{width:"100%",height:300,children:Object(j.jsxs)(I.a,{data:e,margin:{top:5,right:20,bottom:5,left:0},children:[Object(j.jsx)(D.a,{type:"monotone",dataKey:"clicks",stroke:"#3A80BA",strokeWidth:4}),Object(j.jsx)(U.a,{stroke:"#ccc",strokeDasharray:"1 0"}),Object(j.jsx)(F.a,{dataKey:"date"}),Object(j.jsx)(T.a,{dataKey:"clicks"}),Object(j.jsx)($.a,{})]})}),Object(j.jsx)("h2",{children:"Page Views"}),Object(j.jsx)(L.a,{width:"100%",height:300,children:Object(j.jsxs)(I.a,{data:e,margin:{top:5,right:20,bottom:5,left:0},children:[Object(j.jsx)(D.a,{type:"monotone",dataKey:"page_views",stroke:"#3A80BA",strokeWidth:4}),Object(j.jsx)(F.a,{dataKey:"date"}),Object(j.jsx)(T.a,{dataKey:"page_views"}),Object(j.jsx)($.a,{})]})})]})}),z=(n(355),function(){var e=Object(l.h)(),t=Object(l.g)(),n=new g,a="".concat(t.state.first_name," ").concat(t.state.last_name),c=Object(r.useState)(null),s=Object(i.a)(c,2),o=s[0],d=s[1];Object(r.useEffect)((function(){(function(){var t=Object(p.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getStatistic(e.id);case 2:r=t.sent,d(r);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var b=function(){var t=Object(p.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.patch("http://localhost:8000/api/users/".concat(e.id),{email:"^^^^^sdgfdfg$$$$$dfgdfg.com"});case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"user-charts",children:[Object(j.jsxs)("nav",{children:[Object(j.jsx)(u.b,{to:"/",children:"Main page"}),Object(j.jsx)("div",{}),Object(j.jsx)(u.b,{to:"/stats",children:"User Statistics"}),Object(j.jsx)("div",{}),a,Object(j.jsx)("button",{onClick:b,children:"Update Name"})]}),Object(j.jsx)("h1",{children:"User Charts"}),o?R(o):null]})});n(356);function G(){return Object(j.jsx)("div",{className:"spinner",children:Object(j.jsx)("div",{className:"loadingio-spinner-dual-ring-qxvz62bgiio",children:Object(j.jsxs)("div",{className:"ldio-fs3dzp7yf59",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{})})]})})})}n(357);var K=Object(l.j)((function(){var e=Object(o.c)((function(e){return e})),t=e.users,n=e.paginationOptions,a=Object(o.b)(),c=Object(l.g)(),s=Object(r.useState)(""),b=Object(i.a)(s,2),O=b[0],f=b[1],v=Object(r.useState)(0),x=Object(i.a)(v,2),m=x[0],w=x[1];Object(r.useEffect)((function(){a(function(e,t){return console.log(e,t),function(){var n=Object(p.a)(h.a.mark((function n(r){var a,c,s;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:y}),n.prev=1,a=new g,c={users_on_page:e,current_page:t},n.next=6,a.getUsers(c);case 6:s=n.sent,r(A(s)),r(E()),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(1),console.log(n.t0.message),r({type:"LOADING_FAILURE",payload:n.t0.message}),r(E());case 16:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()}(50,n.currentPage)),w(1e3),f(c.pathname)}),[a,n.currentPage,O]),Object(r.useEffect)((function(){f(c.pathname)}));var N=t?Object(j.jsx)(d,{users:t}):null;return Object(j.jsxs)("div",{className:"statistic",children:[Object(j.jsx)("header",{children:Object(j.jsx)("span",{children:"AppCo"})}),Object(j.jsx)("main",{children:e.loading?Object(j.jsx)(G,{}):Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{exact:!0,path:"/stats/",render:function(){return Object(j.jsxs)("div",{className:"content",children:[Object(j.jsxs)("nav",{children:[Object(j.jsx)(u.b,{to:"/",children:"Main page"})," ",Object(j.jsx)("div",{})," ",Object(j.jsx)("span",{children:"User Statistics"})]}),Object(j.jsx)("h2",{children:"Users statistics"}),N,Object(j.jsx)(_,{dataLength:m,usersOnPage:50,setCurrentPage:C})]})}}),Object(j.jsx)(l.a,{exact:!0,path:"/stats/:id",component:z})]})}),Object(j.jsx)("footer",{})]})})),B=(n(358),n.p+"static/media/card-center.1ab0da08.svg"),M=n.p+"static/media/card-left.65fdf5be.svg",Z=n.p+"static/media/card-right.5e103e2b.svg",W=n.p+"static/media/phone-screen.9af75c77.svg",Y=function(){return Object(j.jsxs)("div",{className:"main-page",children:[Object(j.jsxs)("header",{className:"header",children:[Object(j.jsxs)("div",{className:"header-right-content",children:[Object(j.jsx)("span",{children:"AppCo"}),Object(j.jsxs)("span",{children:[Object(j.jsx)("b",{children:"Brainstorming"})," for ",Object(j.jsx)("br",{}),"desired perfect Usability"]}),Object(j.jsxs)("span",{children:["Our design projects are fresh and simple and will benefit",Object(j.jsx)("br",{}),"your business greatly. Learn more about our work!"]}),Object(j.jsx)(u.b,{className:"link",to:"/stats",children:"Views Stats"}),Object(j.jsx)(u.b,{className:"link",to:"/csv-parser",children:"Csv Parser"})]}),Object(j.jsxs)("div",{className:"phone-wrapper",children:[Object(j.jsx)("div",{className:"phone",children:Object(j.jsx)("img",{src:W,alt:""})}),Object(j.jsx)("div",{className:"shadow"})]})]}),Object(j.jsxs)("main",{children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("span",{children:["Why ",Object(j.jsx)("b",{children:"small business owners"})," ",Object(j.jsx)("br",{})," ",Object(j.jsx)("b",{children:"love"})," AppCo?"]}),Object(j.jsxs)("span",{children:["Our design projects are fresh and simple and will benefit your business ",Object(j.jsx)("br",{})," greatly. Learn more about our work!"]})]}),Object(j.jsxs)("div",{className:"main-content",children:[Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{src:M,alt:""}),Object(j.jsx)("h3",{children:"Clean Design"}),Object(j.jsx)("span",{children:"Increase sales by showing true dynamics of your website."})]}),Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{src:B,alt:""}),Object(j.jsx)("h3",{children:"Secure Data"}),Object(j.jsx)("span",{children:"Build your online store\u2019s trust using Social Proof & Urgency."})]}),Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{src:Z,alt:""}),Object(j.jsx)("h3",{children:"Retina Ready"}),Object(j.jsx)("span",{children:"Realize importance of social proof in customer\u2019s purchase decision."})]})]})]}),Object(j.jsx)("footer",{children:Object(j.jsx)("div",{className:"subscribe-wrapper",children:Object(j.jsxs)("div",{className:"subscribe",children:[Object(j.jsx)("input",{type:"text",placeholder:"Enter your email"}),Object(j.jsx)("button",{children:"Subscribe"})]})})})]})},H=n(40);var J=function(e){return e.trim().split("\n").map((function(e,t){var n=e.split(",").map((function(e){return e.trim()}));return 0===t?n.unshift("Id"):n.unshift(t),n}))},V=function(e,t){for(var n=0;n<e.length;n++)for(var r=n+1;r<e.length;r++)e[n][t].value===e[r][t].value&&(e[n]["Duplicate with"].valid=!1,e[n]["Duplicate with"].value.push(e[r].Id.value),e[n][t].valid=!1,e[r]["Duplicate with"].valid=!1,e[r]["Duplicate with"].value.push(e[n].Id.value),e[r][t].valid=!1)};function q(e){return e.map((function(e){var t=Object.keys(e),n=Object(H.a)({},e);return n.Experience.valid=function(e,t){if(e>t-21)return!1;if("None"===e)return!0;return/^\d+$/.test(String(e).toLowerCase())}(n.Experience.value,n.Age.value),t.forEach((function(e){var t,r;"License number"===e&&(n[e].valid=function(e){if(6!==e.length)return!1;return/^[a-zA-Z0-9]+$/.test(String(e).toLowerCase())}(n[e].value)),"Phone"===e&&!1!==n[e].valid&&(n[e].valid=function(e){var t=e.slice(1,e.length);if(t.length<11)return!1;return/^\d+$/.test(String(t).toLowerCase())}(n[e].value)),"Age"===e&&(n[e].valid=function(e){if(e<21)return!1;return/^\d+$/.test(String(e).toLowerCase())}(n[e].value)),"Full Name"===e&&(n[e].valid=(t=n[e].value,/^[a-zA-Z\s]*$/.test(String(t).toLowerCase()))),"Email"===e&&(n[e].valid=(r=n[e].value,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(r).toLowerCase()))),"Has children"===e&&(n[e].valid=function(e){var t=!1;""===e.value?(e.value="FALSE",t=!0):t="false"===e.value.toLowerCase()||"true"===e.value.toLowerCase();return t}(n[e])),"Yearly Income"===e&&(n[e].valid=function(e){if(e>1e6)return!1;return/^\d{0,9}(\.\d{1,2})?$/.test(String(e).toLowerCase())}(n[e].value)),"Expiration date"===e&&(n[e].valid=function(e){if(10!==e.length||""===e)return!1;var t=!1,n=/\d{2}-\d{2}-\d{4}/,r=/\d{4}-\d{2}-\d{2}/.test(String(e)),a=n.test(String(e));if(r||a){var c=e.split("-"),s=function(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,r=e.getFullYear();return t<10&&(t="0".concat(t)),n<10&&(n="0".concat(n)),{mm:n,dd:t,yyyy:r}}();t=!0,r&&c.forEach((function(e,n){0===n&&e<s.yyyy&&(t=!1),1===n&&(e<s.mm||e>12)&&(t=!1),2===n&&(e<s.dd||e>31)&&c[1]<s.mm&&(t=!1)})),a&&c.forEach((function(e,n){0===n&&(e<s.mm||e>12)&&(t=!1),1===n&&(e<s.dd||e>31)&&c[0]<s.mm&&(t=!1),2===n&&e<s.yyyy&&(t=!1)}))}return t}(n[e].value))})),n}))}n(359);var X=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(null),s=Object(i.a)(c,2),l=s[0],u=s[1],o=Object(r.useRef)(),d=function(e){var t=function(e){for(var t=J(e),n=[],r=["Full Name","Phone","Email"].map((function(e){return t[0].indexOf(e)})),a=1;a<t.length;a++){for(var c={},s=0;s<t[a].length;s++){if(""===t[a][s]&&r.includes(s))return"Table not valid";if("Phone"===t[0][s]&&(10===t[a][s].length?t[a][s]="+1".concat(t[a][s]):t[a][s]="+".concat(t[a][s])),"Experience"===t[0][s]&&""===t[a][s]&&(t[a][s]="None"),"License states"===t[0][s]&&t[a][s].length>2&&(t[a][s]=t[a][s].slice(0,2).toUpperCase()),"Yearly Income"===t[0][s]){var i=t[a][s],l=+t[a][s];Number.isNaN(l)?(t[a][s]=i,console.log(l)):t[a][s]=l.toFixed(2)}c[t[0][s]]={value:t[a][s],valid:!0}}c["Duplicate with"]={value:[],valid:!0},n.push(c)}return V(n,"Phone"),V(n,"Email"),n}(e.target.result);"string"===typeof t?(u(t),a(null)):(a(q(t)),u(null))},b=n&&Object.keys(n[0]).map((function(e,t){return Object(j.jsx)("th",{children:e},t)})),h=n&&n.map((function(e,t){return Object(j.jsx)("tr",{children:Object.keys(e).map((function(t,n){var r=Array.isArray(e[t].value)?e[t].value.join(", "):e[t].value;return Object(j.jsx)("td",{className:e[t].valid?"":"not-valid",children:r})}))},t)})),p=l&&Object(j.jsxs)("div",{className:"error",children:[Object(j.jsx)("div",{children:Object(j.jsx)("span",{children:l})}),Object(j.jsx)("button",{onClick:function(){return u(null)},children:"\u2715"})]});return Object(j.jsxs)("div",{className:"csv-parser",children:[Object(j.jsx)("header",{children:Object(j.jsx)("span",{children:"AppCo"})}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"csv",children:"Choose a file \u21ea"}),Object(j.jsx)("input",{ref:o,type:"file",multiple:!0,id:"csv",name:"file",accept:".csv",onChange:function(e){var t=e.target.files[0].name.split(".");if("csv"===t[t.length-1]){var n=new FileReader;n.readAsText(e.target.files[0]),n.onload=d,o.current.value=""}else u("Not allowed format, try again this time *.csv only")}})]}),Object(j.jsx)("button",{className:n?"":"hide",onClick:function(){o.current.value="",a(null)},children:"\u2715"})]}),p,Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsx)("tr",{children:b})}),Object(j.jsx)("tbody",{children:h})]})]})},Q=function(){return Object(j.jsx)(u.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(l.a,{exact:!0,path:"/",component:Y}),Object(j.jsx)(l.a,{path:"/stats",component:K}),Object(j.jsx)(l.a,{path:"/csv-parser",component:X})]})})},ee=n(62),te=n(182);var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return t.payload;default:return e}};var re=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return!0;case w:return!1;default:return e}},ae={currentPage:1,usersPerPage:50,buttonsPerPage:5,indexFirstPage:0};var ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(H.a)(Object(H.a)({},e),{},{currentPage:t.payload});case P:return Object(H.a)(Object(H.a)({},e),{},{buttonsPerPage:e.buttonsPerPage+t.payload});case S:return Object(H.a)(Object(H.a)({},e),{},{indexFirstPage:e.indexFirstPage+t.payload});default:return e}},se=Object(ee.c)({users:ne,loading:re,paginationOptions:ce}),ie=Object(ee.d)(se,Object(ee.a)(te.a));s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(o.a,{store:ie,children:Object(j.jsx)(Q,{})})}),document.getElementById("root"))}},[[360,1,2]]]);
//# sourceMappingURL=main.90a79749.chunk.js.map